c <- data[1:371,1:5]
View(c)
colnames(c) <- c('Num','Unit','Name','Country','Email1')
c$File <- x
c$Page <- 'Page1'
x <- list[5]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T, startRow = 1)
e <- data[1:134,1:10]
View(e)
e <- e[,1:9]
names
colnames(e) <- c('Company','Name','Profession','Email1','Mobile1','Phone1','Fax','PO Box','Unit')
e <- e[-53,]
e$File <- x
e$Page <- 'Page1'
x <- list[6]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T, startRow = 1)
head(data)
tail(data)
f <- data[1:179,1:8]
View(f)
f <- data[1:179,1:9]
f[114,5] <- f[114,9]
f[114,9]
z <- f[114,9]
z
f[114,5] <- "+45 46996450"
str(f)
f$X..3 <- as.character(f$X..3)
f[114,5] <- "+45 46996450"
f <- f[,1:8]
f <- f[-c(1:6,50,111,124:126,179),]
names
colnames(f) <- c('Unit','Name','Nationality','Address','Phone1','Fax','Mobile1','Email1')
x <- list[7]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T, startRow = 1)
View(data)
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = F, startRow = 1)
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = F, startRow = 1)
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = F)
data <- read.xlsx2(x, sheetIndex = 1, header = F)
data <- read.xlsx(x, sheetIndex = 1, header = F)
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = F, endRow = 24812)
head(data)
tail(data)
g <- data[,5:9]
View(g)
colnames(g) <- c('Name','Country','Phone1','Phone2','Email1')
g$File <- x
g$Page <- "Page1"
e$File
f$File <- list[6]
f$File
f$Page <- "Page1"
x <- list[8]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = F)
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
h1 <- data[1:204,1:10]
head(h1)
View(h1)
colnames(h1) <- c('Num','Unit','a','Name','b','c','d','e','Address','Email1')
h1$Address[[1]]
h1$Address[[20]]
colnames(h1) <- c('Num','Unit','a','Name','b','c','d','e','f','Email1')
h1 <- h1%>%select(-c(a,b,c,d,e,f))
h1$Page <- "Page1"
h1$File <- x
data <- read.xlsx2(x, sheetIndex = 2, stringsAsFactors = T, header = T)
h2 <- data[1:83,1:10]
View(h2)
colnames(h2) <- c('Num','Unit','a','Name','b','c','d','e','f','Email1')
h2 <- h2%>%select(-c(a,b,c,d,e,f))
h2$File <- x
h2$Page <- 'Page2'
h <- bind_rows(h1,h2)
export1 <- bind_rows(a,b,c,d,e,f,g,h)
warnings()
View(export1)
unique(export1$File)
remove(a,b,c,d,e,f,g,h,h1,h2)
remove(z)
x <- list[9]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
View(data)
a <- data[1:194,]
colnames(a) <- c('Name', 'PO Box', 'City', 'Country', 'Phone1', 'Mobile1', 'Fax' , "Email1")
View(a)
which(a$Name == "")
which(a$Name == "KIRILL PISAREV")
x <- list[10]
x
getSheets(loadWorkbook(x))
x <- list[10]
x
getSheets(loadWorkbook(x))
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
b <- data[1:125,]
colnames(b) <- c('Name', 'PO Box', 'City', 'Country', 'Phone1', 'Mobile1', 'Fax' , "Email1")
View(b)
x <- list[11]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
c <- data[1:125,]
View(c)
colnames(c) <- c('Name', 'PO Box', 'City', 'Country', 'Phone1', 'Mobile1', 'Fax' , "Email1")
x <- list[12]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
d <- data[1:271,]
View(d)
colnames(d) <- c('Name', 'PO Box', 'City', 'Country', 'Phone1', 'Mobile1', 'Fax' , "Email1")
x <- list[13]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
e <- data[1:338,]
View(e)
colnames(e) <- c('Name', 'PO Box', 'City', 'Country', 'Phone1', 'Mobile1', 'Fax' , "Email1")
e$File <- x
e$Page <- 'Page1'
d$Page <- 'Page1'
c$Page <- 'Page1'
b$Page <- 'Page1'
a$Page <- 'Page1'
a$File <- list[9]
b$File <- list[10]
c$File <- list[11]
d$File <- list[12]
x <- list[14]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
f <- data[1:366,]
colnames(f) <- c("Name", "Mobile1", "Email1")
View(f)
f$File <- x
f$Page <- 'Page1'
x <- list[15]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
g <- data[1:6467,]
View(g)
colnames(g) <- c('Owner', 'Name' , 'a' , 'b' , 'Email1', 'Status', 'Unit')
names
g <- g%>%mutate(Phone1 = paste(a,b,sep = " "))
g <- g%>%select(-c(a,b))
g$File <- x
g$Page <- 'Page1'
x
x <- list[16]
x
data <- read.xlsx2(x, sheetIndex = 1, stringsAsFactors = T, header = T)
h <- data[2:175,1:5]
View(h)
colnames(h) <- c('Unit' , 'Name', 'Phone1' , 'Mobile1' , 'Email1')
h$File <- x
h$Page <- 'Page1'
x <- list[17]
x
data <- read.table(x)
x <- list[18]
x
export2 <- bind_rows(a,b,c,d,e,f,g,h)
unique(export2$File)
final <- bind_rows(export1, export2)
str(final)
getwd()
write.csv(final, "zPalantirReadyHeadFolder.csv")
remove(a,b,c,d,e,f,g,h)
remove(export1,export2)
setwd("/Volumes/NO NAME/SANITIZED PROPERTY 1 of 2/UAE DATABASE (1)/2- PROPERTY OWNERS 2014-2015")
list <- list.files()
list
x <- list[1]
x
getwd()
y <- getwd()
y <- getwd()
x <- list[1]
folder <- setwd(paste(y,x))
folder <- paste(y,x))
folder <- paste(y,x)
folder
folder <- paste(y,"/",x,sep="")
folder
setwd(folder)
getwd()
folderlist <- list.files()
sum(table(folderlist))
folderlist[1]
getwd()
library(xlsx)
library(dplyr)
y <- getwd("/Volumes/NO NAME/SANITIZED PROPERTY 1 of 2/UAE DATABASE (1)/2- PROPERTY OWNERS 2014-2015")
y <- "/Volumes/NO NAME/SANITIZED PROPERTY 1 of 2/UAE DATABASE (1)/2- PROPERTY OWNERS 2014-2015")
y <- "/Volumes/NO NAME/SANITIZED PROPERTY 1 of 2/UAE DATABASE (1)/2- PROPERTY OWNERS 2014-2015"
setwd(y)
getwd()
setwd(y)
getwd()
list.files()
x <- list[1]
folder <- paste(y,"/",x,sep="")
setwd(folder)
folderlist <- list.files()
infolder <- sum(table(folderlist))
sum(table(folderlist))
z <- folderlist[1]
data <- read.xlsx2(z, sheetIndex = 1, stringsAsFactors = T, header = T)
getSheets(loadWorkbook(x))
getSheets(loadWorkbook(z))
a <- data[5:575,1:5]
View(a)
colnames(a) <- c('Name', 'Address', 'Type', 'Phone1', 'Email1')
setwd(y)
x <- list[2]
folder <- paste(y,"/",x,sep="")
setwd(folder)
x <- list[2]
folder <- paste(y,"/",x,sep="")
setwd(folder)
folderlist <- list.files()
sum(table(folderlist))
z <- folderlist[1]
data <- read.xlsx2(z, sheetIndex = 1, stringsAsFactors = T, header = T)
getSheets(loadWorkbook(z))
head(data)
?grep
str(data)
test <- as.character(data$Description)
test
test <- test[1:150]
test[1]
strsplit(test[1], split = "(")
strsplit(test[1], split = " ")
strsplit(test, split = " ")
d <- test[1]
strsplit(d,"(")
strsplit(d,"()")
strsplit(d,'(')
gsub(pattern = '(', replacement = '{')
gsub(pattern = '(', replacement = '{', x = d)
d
strsplit(d, " (")
?regmatches
?gregexpr
regexpr("971", d)
strsplit(d, ".(")
strsplit(d, ".(", fixed = T)
strsplit(d, "(", fixed = T)
View(data)
strsplit(data$Description, "(", fixed = T)
as.data.frame(strsplit(test, "(", fixed = T))
e <- as.data.frame(strsplit(test, "(", fixed = T))
View(e)
d
d <- strsplit(d, "(", fixed = T)
d <- sub(pattern = ")", replacement = "", test)
d
d <- sub(pattern = ")", replacement = "", d)
d
d <- test[1]
d
e <- strsplit(d, "(", fixed = T)
e <- sub(pattern = ")", replacement = "", e)
e
e <- strsplit(d, "(", fixed = T)
e
e[[1]][2]
e[[1]][2] <- sub(pattern = ")", replacement = "", e[[1]][2])
e
test
e
rep([[:digit:]], 6)
rep("[[:digit:]]", 6)
rep("[[:digit:]]", 7)
e[[1]][2]
strsplit(e, split = "[1-9][1-9][1-9][1-9][1-9][1-9][1-9]")
strsplit(e, split = "[1-9]")
strsplit(e, split = "1")
e
test
test[1]
strsplit(test, [1-9])
strsplit(test, "[1-9]")
strsplit(test[1], "[1-9]")
strsplit(test[1], " ")
gregexpr("[0-9]", test[1])
test[1]
regexpr("[0-9]", test[1])
setwd('/Users/ECFC3/Documents/courseera')
library(data.table)
library(stringr)
library(dplyr)
setwd('/Users/ECFC3/Documents/courseera')
library(data.table)
library(stringr)
library(dplyr)
wd <- getwd()
setwd(paste(wd,"/","UCI HAR Dataset", sep = ""))
labels <- read.table("activity_labels.txt", header = F, col.names = c("num", "activity"))
features <- read.table('features.txt', header=F, col.names = c('num', 'feature'))
features
train <- NULL
traindat <- read.table('train/X_train.txt', header = F)
trainlabs <- read.table('train/y_train.txt', header = F, col.names = "trainlabs")
trainsub <- read.table('train/subject_train.txt', header = F, col.names = "trainsubject")
head(traindat)
features$feature
feat <- as.vector(features$feature)
test <- traindat
colnames(test) <- paste('train_',feat,sep="")
head(test)
test <- NULL
testdat <- read.table('test/X_test.txt', header = F)
testlabs <- read.table('test/y_test.txt', header = F, col.names = "testlabs")
testsub <- read.table('test/subject_test.txt', header = F, col.names = "testsubject")
test <- cbind(testsub, testlabs, testdat)
train <- NULL
traindat <- read.table('train/X_train.txt', header = F)
trainlabs <- read.table('train/y_train.txt', header = F, col.names = "trainlabs")
trainsub <- read.table('train/subject_train.txt', header = F, col.names = "trainsubject")
train <- cbind(trainsub,trainlabs,traindat)
remove(train)
train <- cbind(trainsub,trainlabs,traindat)
features
head(features)
features <- c(as.vector(features[, "feature"]), "subject", "activity")
colnames(test)
testlabs <- read.table('test/y_test.txt', header = F, col.names = "labels")
testsub <- read.table('test/subject_test.txt', header = F, col.names = "subject")
test <- cbind(testsub, testlabs, testdat)
trainlabs <- read.table('train/y_train.txt', header = F, col.names = "labels")
trainsub <- read.table('train/subject_train.txt', header = F, col.names = "subject")
train <- cbind(trainsub,trainlabs,traindat)
x <- bind_rows(train,test)
features <- read.table('features.txt', header=F, col.names = c('num', 'feature'))
features <- as.vector(features$feature)
features
features <- c(features, "subject", "labels")
features
colnames(x)
filtered_feature_ids <- grepl("mean|std|subject|activity", features) & !grepl("meanFreq", features)
colnames(x) <- c('subject', 'label', features)
features <- read.table('features.txt', header=F, col.names = c('num', 'feature'))
features <- as.vector(features$feature)
x <- bind_rows(train,test)
colnames(x) <- c('subject', 'label', features)
head(x)
View(x)
colnames(test)
colnames(x) <- names
colnames(x)
names <- c('subject', 'label', features)
grepl("mean|std|subject|activity", features) & !grepl("meanFreq", features)
remove(feat)
names
grep("mean|std|subject|activity", names)
filter <- grep("mean|std|subject|activity", names)
z <- which(filter %in% features)
z <- x[,c(filter)]
head(z)
colnames(x)
remove(filter)
datafilter <- grep('subject|label|mean|std', names) & !grep('meanFreq', features)
datafilter <- grep('subject|label|mean|std', names) & !grep('meanFreq', names)
names
grep('meanFreq', names)
grep('subject|label|mean|std', names)
grep('subject|label|mean|std', names) & !grep('meanFreq', names)
datafilter <- grep('subject|label|mean|std', names)
menFreq <- grep('meanFreq', names)
meanFreq <- grep('meanFreq', names)
datafilter2  <- datafilter - meanFreq
datafilter2  <- meanFreq %in% datafilter
datafilter2  <- datafilter %in% meanfreq
datafilter2  <- datafilter %in% meanFreq
datafilter2
datafilter <- grepl('subject|label|mean|std', names) & !grepl('meanFreq', names)
datafilter
data <- x[,datafilter]
head(data)
for (i in 1:nrow(labels)) {
filtered_data$activity[filtered_data$activity == labels[i, "id"]] <- as.character(labels[i, "name"])
}
for (i in 1:nrow(labels)) {
data$activity[data$activity == labels[i, "id"]] <- as.character(labels[i, "name"])
}
View(data)
as.character(labels[i, "name"]
for (i in 1:nrow(labels)) {
data$label[data$label == labels[i, "id"]] <- as.character(labels[i, "name"])
}
lables
labels
data$label[data$label == labels[i, "num"]] <- as.character(labels[i, "activity"])
labels
data$label
i = 1
labels[i, activity]
labels
labels[i, 'activity']
for (i in 1:nrow(labels)) {
data$label[data$label == labels[i, "num"]] <- as.character(labels[i, "activity"])
}
unique(data$label)
data
View(data)
data$label == i
which(data$label == i)
table(data$label == i)
features
names
names(data)
filterednames <- colnames(data)
filterednames <- gsub("tBody", "Time Body ", filterednames)
filterednames
filterednames <- gsub("tGravity", "Time Gravity ", filterednames)
filterednames
filtered_feature_names <- colnames(data)
filtered_feature_names <- gsub("\\(\\)", "", filtered_feature_names)
filtered_feature_names
names
names(data)
filtered_feature_names
filtered_feature_names <- gsub("Acc", "-acceleration", filtered_feature_names)
filtered_feature_names
filtered_feature_names <- gsub("^t(.*)$", "\\1-time", filtered_feature_names)
filtered_feature_names
filtered_feature_names <- gsub("(Jerk|Gyro)", "-\\1", filtered_feature_names)
filtered_feature_names
filtered_feature_names <- tolower(filtered_feature_names)
filtered_feature_names
filterednames <- gsub("tBody", "time_body_", filterednames)
filterednames <- gsub("tGravity", "time_gravity_", filterednames)
filterednames
filterednames <- colnames(data)
filterednames <- gsub("tBody", "time_body_", filterednames)
filterednames <- gsub("tGravity", "time_gravity_", filterednames)
filterednames
filterednames <- gsub("fBody", "frequency_body_", filterednames)
filterednames
filterednames <- gsub("Acc-","acceleration_",filterednames)
filterednames
filterednames <- gsub("AccJerk","acceleration_jerk_",filterednames)
filterednames
filterednames <- gsub("BodyGyroJerkMag-","body_gyro_jerk_megnitude_",filterednames)
filterednames
filterednames <- gsub("BodyGyroMag-","body_gyro_megnitude_",filterednames)
filterednames
filterednames <- gsub("AccMag-","acceleration_megnitude_",filterednames)
filterednames <- gsub("GyroJerkMag-","gyro_jerk_megnitude_",filterednames)
filterednames
filterednames <- gsub("GyroJerk-","gyro_jerk_",filterednames)
filterednames <- gsub("GyroMag-","gyro_megnitude_",filterednames)
filterednames
filterednames <- gsub("_body_[Bb]ody","_body",filterednames)
filterednames
filterednames <- gsub("_bodyacceleration_","_body_acceleration_",filterednames)
filterednames
filterednames <- gsub("Gyro-","gyro_",filterednames)
filterednames
filterednames <- colnames(data)
filterednames <- gsub("tBody", "time_body_", filterednames)
filterednames <- gsub("fBody", "frequency_body_", filterednames)
filterednames <- gsub("tGravity", "time_gravity_", filterednames)
filterednames <- gsub("Acc-","acceleration_",filterednames)
filterednames <- gsub("AccJerk","acceleration_jerk_",filterednames)
filterednames <- gsub("BodyGyroJerkMag-","body_gyro_jerk_magnitude_",filterednames)
filterednames <- gsub("BodyGyroMag-","body_gyro_magnitude_",filterednames)
filterednames <- gsub("AccMag-","acceleration_magnitude_",filterednames)
filterednames <- gsub("GyroJerkMag-","gyro_jerk_magnitude_",filterednames)
filterednames <- gsub("GyroJerk-","gyro_jerk_",filterednames)
filterednames <- gsub("GyroMag-","gyro_magnitude_",filterednames)
filterednames <- gsub("_body_[Bb]ody","_body",filterednames)
filterednames <- gsub("_bodyacceleration_","_body_acceleration_",filterednames)
filterednames <- gsub("Gyro-","gyro_",filterednames)
filterednames
filterednames <- gsub("()-X", "_X", filterednames)
filterednames <- gsub("()-Y", "_X", filterednames)
filterednames <- gsub("()-Z", "_X", filterednames)
filterednames
filterednames <- gsub("()","",filterednames)
filterednames
filterednames <- gsub("()","",filterednames)
filterednames
filterednames <- gsub("\\()","",filterednames)
filterednames
filterednames <- gsub("\\-","",filterednames)
filterednames
filterednames <- gsub("_jerk_Mag","_jerk_magnitude_")
filterednames <- gsub("_jerk_Mag","_jerk_magnitude_", filterednames)
filterednames
colnames(data) <- filterednames
summarise_each(data, funs = mean)
summarise_each(data, funs = 'mean')
data %>% group_by('activity', 'subject') %>% summarise_each(data, funs = 'mean')
data %>% group_by('activity', 'subject') %>% summarise_each(funs = c('mean'))
data %>% group_by('activity', 'subject') %>% summarise_each(funs(mean))
data
data %>% group_by('subject','label') %>% summarise_each(funs(mean))
unique(filterednames)
filterednames
filterednames == 'time_body_acceleration_mean_X'
